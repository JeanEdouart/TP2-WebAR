<!-- Exercice 1
<html>
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  </head>
  <body>
    <a-scene embedded arjs>
      <a-box position="-1 2 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-box position="0 2 -5" rotation="0 45 0" color="#EF2D5E"></a-box>
      <a-box position="1 2 -3" rotation="0 45 0" color="#FFC65D"></a-box>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-entity camera look-controls="pointerLockEnabled: true" position="0 3 7"></a-entity>
    </a-scene>
  </body>
</html>
-->
<!--<html>
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>
  </head>
  <body>
    <a-scene embedded arjs>
      <a-marker preset="hiro">
        <a-box id="myBox"
               class="clickable"
               position="0 1 0"
               rotation="0 0 0"
               scale="0.5 0.5 0.5"
               color="pink"
               opacity="0.5">
        </a-box>
      </a-marker>

      <a-entity camera>
        <a-cursor fuse="false"
                  raycaster="objects: .clickable"
                  material="color: white; shader: flat">
        </a-cursor>
      </a-entity>
    </a-scene>

    <script>
      // Composant de rotation stable (pas d'empilement d'animations)
      AFRAME.registerComponent('spin', {
        schema: { speed: {type: 'number', default: 36} }, // degrés/seconde (36°/s = 10s pour 360°)
        init: function () {
          this.boostTimeout = null;
        },
        tick: function (time, timeDelta) {
          // Incrémente la rotation en radians à partir de la vitesse en °/s
          const deltaRad = THREE.MathUtils.degToRad(this.data.speed * (timeDelta / 1000));
          this.el.object3D.rotation.y += deltaRad;
        },
        // Utilitaire pour changer proprement la vitesse
        setSpeed: function (s) { this.data.speed = s; },
        // Utilitaire pour gérer le timer de boost
        setBoost: function (fast, base, ms) {
          this.setSpeed(fast);
          if (this.boostTimeout) clearTimeout(this.boostTimeout);
          this.boostTimeout = setTimeout(() => this.setSpeed(base), ms);
        }
      });

      const colors = ["pink", "blue", "yellow", "green", "red", "orange", "cyan", "purple"];
      const box = document.querySelector("#myBox");

      const BASE_SPEED = 36;   // 10s par tour
      const FAST_SPEED = 360;  // 1s par tour
      const BOOST_MS   = 1000; // durée du boost

      // Rotation de base (stable)
      box.setAttribute('spin', `speed: ${BASE_SPEED}`);

      // Interaction : couleur + pulse d'échelle + boost de vitesse
      box.addEventListener("click", () => {
        // Couleur aléatoire
        const newColor = colors[Math.floor(Math.random() * colors.length)];
        box.setAttribute("color", newColor);

        // Pulse d'échelle (on reset avant de la rejouer)
        box.removeAttribute("animation__scale");
        box.setAttribute("animation__scale",
          "property: scale; to: 0.8 0.8 0.8; dur: 500; dir: alternate; loop: 2");

        // Boost de rotation TEMPORAIRE, puis retour à la base
        const spin = box.components.spin;
        if (spin) spin.setBoost(FAST_SPEED, BASE_SPEED, BOOST_MS);
      });
    </script>
  </body>
</html>
-->
<html>
  <head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  </head>
  <body>
    <a-scene embedded arjs>
      <a-marker type="pattern" url="pattern-creeper.patt">    
        <a-sphere position="0 0.5 0"
                   radius="0.25"
                   color="green"
                   opacity="0.5">
        </a-sphere>
      </a-marker>
    </a-scene>
    </body> 
</html>